/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   minirt.c                                           :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: user <mvaldeta@student.42lisboa.com>       +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2021/04/29 11:20:09 by mvaldeta          #+#    #+#             */
/*   Updated: 2022/06/15 19:26:41 by user             ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "rtlib.h"

/* 
static void dialog(void):
open program dialog followed by instructions
todo: CLI for easier navigation */

static void dialog(void)
{

    printi("\n\n\n                    ▂▃▄▅▆▇█▓▒░MiniRt░▒▓█▇▆▅▄▃▂\n", 'g');
    printi("__________________________________________________________________\n\n", 'g');

    printi("                            Navigation                             \n", 'g');
    printi(" i -> zoom in | o -> zoom out | l -> moves light right | k -> moves light left \n arrows -> moves camera up down left right",  'g');  
}



int minirt(char *rtfile)
{
    t_frame *rt;
    t_parse *info;
    
    rt = init_frame();
    info = init_parse();

    dialog();
    fill_frame(info, &rt, rtfile);    
    create_scene(info, rt);
    window_init(rt);
    create_objs(rt);
    render(rt);
    mlx_loop(rt->mlx_ptr);
    return(0);
}

int main(int ac, char **av)
{
    if (ac == 2)
    {
        if (filetype_is_valid(av[1], ".rt"))
            minirt(av[1]);
        return(1);
    }
    else
        write(1, "Error\n", 6);
    return (0);
}

/* 
Previously used 
Ascii Art for console dialog
Found it to bulky and rendered unecessary */
////////////////////////////////////////////

/*     printi( "╔╔══════════════════════╗╗ ", 'y');
    printi("║║▐█▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀█▌║║ ", 'm');
    printi("║║▐▌░░▒▒░░▒▒░░▒▒░░▒▒░░▐▌║║ ", 'p');
    printi("║║▐▌▒▒░░▒▒░░▒▒░░▒▒░░▒▒▐▌║║ ", 'g');
    printi("║║▐▌▒▒░░▒▒░░▒▒░░▒▒░░▒▒▐▌║║ ", 'y');
    printi("║║▐▌░░▒▒░░▒▒░░▒▒░░▒▒░░▐▌║║ ", 'b');
    printi("║║▐▌▒▒░░▒▒░░▒▒░░▒▒░░▒▒▐▌║║ ", 'p');
    printi("║║▐▌░░▒▒░░▒▒░░▒▒░░▒▒░░▐▌║║ ", 'g');
    printi("║║▐█▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄█▌║║ ", 'y');
    printi("╚╚══════════════════════╝╝ ", 'b');
    printi("██▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄██ ", 'p');
    printi("██▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄██  ", 'm');
    printi("██▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄██  ", 't');
    printi("██▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀██  ", 'b');
    printi("▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀ ", 'p'); */
    
/*     printi("
    ░░░░░░░░░░░░░░░░░░░░░░█████████
    ░░███████░░░░░░░░░░███▒▒▒▒▒▒▒▒███
    ░░█▒▒▒▒▒▒█░░░░░░░███▒▒▒▒▒▒▒▒▒▒▒▒▒███
    ░░░█▒▒▒▒▒▒█░░░░██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██
    ░░░░█▒▒▒▒▒█░░░██▒▒▒▒▒██▒▒▒▒▒▒██▒▒▒▒▒███
    ░░░░░█▒▒▒█░░░█▒▒▒▒▒▒████▒▒▒▒████▒▒▒▒▒▒██P
    ░░░█████████████▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██
    ░░░█▒▒▒▒▒▒▒▒▒▒▒▒█▒▒▒▒▒▒▒▒▒█▒▒▒▒▒▒▒▒▒▒▒██
    ░██▒▒▒▒▒▒▒▒▒▒▒▒▒█▒▒▒██▒▒▒▒▒▒▒▒▒▒██▒▒▒▒██
    ██▒▒▒███████████▒▒▒▒▒██▒▒▒▒▒▒▒▒██▒▒▒▒▒██
    █▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒█▒▒▒▒▒▒████████▒▒▒▒▒▒▒██
    ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒█▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██
    ░█▒▒▒███████████▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██
    ░██▒▒▒▒▒▒▒▒▒▒████▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒█
    ░░████████████░░░█████████████████
    
    ", 'p');
    
    printi("
    
                WELCOME TO YOUR NAVIGATION PANEL
                                         
          _=====_                               _=====_
         / _____ \                             / _____ \
      + .-'_____'-.---------------------------.-'_____'-.+
    /  ___| /|\ |___ \                     / ___| /_\ |___ \
    / |      |      | ;  __           _   ; | _         _ | ;
    | | <---   ---> | | |__|         |_:> | ||k|       (l)| |
    | |___   |   ___| ;CAMERA       LIGHT ; |___       ___| ;
    |\    | \|/ |    /  _     ___      _   \    | (X) |    /|
    | \   |_____|  .','" "', |___|  ,'" "', '.  |_____|  .' |
    |  '-.______.-' /       \ANALOG/       \  '-._____.-'   |
    |               |       |------|       |                |
    |              /\       /      \       /\               |
    |             /  '.___.'        '.___.'  \              |
    |            /                            \             |
    \          /                                \           /
    \________/                                   \_________/
    ", 'p');                                    
    return; */